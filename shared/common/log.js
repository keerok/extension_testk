var Log=function(s){var o,t,i,u,n=new Date;if("undefined"!=typeof window){var r=["debug","info","warn","error"],e=["assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];window.console||(window.console={}),window.console.log||(window.console.log=function(){});for(var f=0;f<e.length;++f)window.console[e[f]]||(window.console[e[f]]=function(){});for(f=0;f<r.length;++f)window.console[r[f]]||(window.console[r[f]]=window.console.log)}o={DEBUG:function(n){console.debug(n)},INFO:function(n){console.info(n)},WARN:function(n){console.warn(n)},ERROR:function(n){console.error(n)}},t={DEBUG:function(){},INFO:function(){},WARN:function(){},ERROR:function(){}},i=s?o:t;var c=[],g=[],a=n;function d(n){var o=new Date,t=o-a,r=150<t?t+"(ms): "+n.msg:n.msg;try{i[n.type](r)}catch(n){return}a=o}function l(n){if("[object Array]"!==Object.prototype.toString.call(n))return StringUtil.hashCode(n);for(var o="[",t=0;t<n.length;t++)o=o+l(n[t])+",";return o+"]"}function w(n){if(0==n.length)return null;var o=n[0];if("string"!=typeof o)throw"not a string: "+o;for(var t=[],r=1;r<n.length;r++){var i=n[r];t.push("object"==typeof i?JSON.stringify(i,function(n,o){if("string"!=typeof n)return o;var t=n.toLowerCase();return-1!=t.indexOf("password")||"value"==t&&("p"==this.key||"password"==this.type)?l(o):o}):i)}return StringUtil.format(o,t)}function p(n,o){var t={type:n,msg:w(o)};if(d(t),Okta.Config.startrecordingLogs&&g.push(t),s)if(u==undefined)c.push(t);else if(u&&u.passwords){c.push(t);for(var r=u.passwords,i=0;i<r.length;i++){var e=r[i];if(-1=="password".indexOf(e)&&-1!=t.msg.indexOf(e)){var f="audit fail for: "+e;throw d({type:"ERROR",msg:f}),f}}}}return{setLogging:function(n){i=n?o:t},skipAudit:function(){d({type:"DEBUG",msg:w(arguments)})},debug:function(){p("DEBUG",arguments)},info:function(){p("INFO",arguments)},warn:function(){p("WARN",arguments)},error:function(){p("ERROR",arguments)},getAuditString:function(){for(var n=[],o=0;o<c.length;o++){var t=c[o];n.push(t.type+":"+t.msg)}return n.join("\n")},getRecordedLogs:function(){return g},init:function(n){!1===(u=n)&&(c=[])}}}(Okta.Config.enabledLogging);